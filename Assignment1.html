<table id="grades" class="tg">
  <tr>
    <th class="tg-pykm">Name</th>
    <th class="tg-pykm">ID</th>
    <th class="tg-pykm">Assignment 1</th>
    <th class="tg-pykm">Assignment 2</th>
    <th class="tg-pykm">Assignment 3</th>
    <th class="tg-pykm">Assignment 4</th>
    <th class="tg-pykm">Assignment 5</th>
    <th class="tg-pykm">Final Grade</th>
  </tr>
  <tr>
    <td class="tg-0lax">Carter Flowers</td>
    <td class="tg-0lax">64879</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="final"></td>
  </tr>
  <tr>
    <td class="tg-0lax">Kathryn Guerrero</td>
    <td class="tg-0lax"><br>10566</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="final"></td>
  </tr>
  <tr>
    <td class="tg-0lax">Kendrick Herring</td>
    <td class="tg-0lax">67824</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="final"></td>
  </tr>
  <tr>
    <td class="tg-0lax">Enrique Cherry</td>
    <td class="tg-0lax">52000</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="final"></td>
  </tr>
  <tr>
    <td class="tg-0lax">Rhiannon Lowe</td>
    <td class="tg-0lax">94995</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="final"></td>
  </tr>
  <tr>
    <td class="tg-0lax">Ayla Marquez</td>
    <td class="tg-0lax">70941</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="final"></td>
  </tr>
  <tr>
    <td class="tg-0lax">Frederick Burch</td>
    <td class="tg-0lax">9425</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="final"></td>
  </tr>
  <tr>
    <td class="tg-0lax">Lottie Seymour</td>
    <td class="tg-0lax">58013</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="final"></td>
  </tr>
  <tr>
    <td class="tg-0lax">Abdulahi Peacock</td>
    <td class="tg-0lax">46480</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="final"></td>
  </tr>
  <tr>
    <td class="tg-0lax">Rhian Irving</td>
    <td class="tg-0lax">77905</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="tg-lqy6" contenteditable="true" onblur="update()">-</td>
    <td class="final"></td>
  </tr>
</table>
<br>
<button class="gradeButton" onclick="calculateGrades();">Calculate Final Grades</button>
<br>
<p id="unSubmit" class="unSubmit">
  Number of unsubmitted assignments: 50
</p>

<script>
var check = 0;
var tot = 0;
var result = 0;
var unSubmit = 0;

//Runs when button is pressed
function calculateGrades() {
  for (var x = 1; x <= 10; x++) {
    document.getElementById("grades").rows[x].cells[7].innerHTML = 0;
  }

  allWork();
  check = 1;
}

//Will only run if Calculate Grades button has been pressed
function update() {
  if (check == 1) {
    allWork();
  } else {
    console.log("Button not clicked yet.")
  }

}

function allWork() {
  for (var i = 1; i <= 10; i++) {
    for (var j = 2; j < 7; j++) {
      if (document.getElementById("grades").rows[i].cells[j].innerText == "-") {
        document.getElementById("grades").rows[i].cells[j].classList.replace("tg-lqy6", "null");
        unSubmit++;
      } 
      else {
        document.getElementById("grades").rows[i].cells[j].classList.replace("null", "tg-lqy6");
        data = document.getElementById("grades").rows[i].cells[j].innerText;
        data = parseInt(data);
        
        //Check if value in cell is an in or if <0 or >100
        if(data === parseInt(data, 10) && data <= 100 && data >= 0){
        	tot += parseInt(data);
        }
        else{
        	//Replace invalid data with "-"
        	document.getElementById("grades").rows[i].cells[j].innerHTML = "-";
          console.log(tot);
        }
      }
    }
    result = Math.round(tot / 5)
    if(result > 100){
    	document.getElementById("grades").rows[i].cells[7].innerHTML = "100%";
    }
    else{
    	document.getElementById("grades").rows[i].cells[7].innerHTML = result + "%";
    }
    if (result < 40) {
      document.getElementById("grades").rows[i].cells[7].classList.replace("final", "fail");
    }
    if(result >= 40){
    	document.getElementById("grades").rows[i].cells[7].classList.replace("fail", "final");
    }
    result = 0;
    tot = 0;
  }
  document.getElementById("unSubmit").innerHTML = "Number of unsubmitted assignments: " + unSubmit;
  unSubmit = 0;
}
</script>

<style>
  .tg {
    border-collapse: collapse;
    border-spacing: 0;
  }

  .tg td {
    font-family: Arial, sans-serif;
    font-size: 14px;
    padding: 10px 5px;
    border-style: solid;
    border-width: 1px;
    overflow: hidden;
    word-break: normal;
    border-color: black;
  }

  .tg th {
    font-family: Arial, sans-serif;
    font-size: 14px;
    font-weight: normal;
    padding: 10px 5px;
    border-style: solid;
    border-width: 1px;
    overflow: hidden;
    word-break: normal;
    border-color: black;
  }

  .tg .tg-b9xc {
    font-family: "Comic Sans MS", cursive, sans-serif !important;
    ;
    text-align: right;
    vertical-align: top;
  }

  .tg .tg-cwv5 {
    background-color: #ffffff;
    text-align: right;
    vertical-align: top;
  }

  .tg .tg-lqy6 {
    text-align: right;
    vertical-align: top;
  }

  .tg .tg-pykm {
    font-weight: bold;
    background-color: #9b9b9b;
    text-align: center;
    vertical-align: top;
  }

  .tg .tg-0lax {
    text-align: left;
    vertical-align: top;
  }

  .tg .final {
    font-weight: bold;
    text-align: right;
    vertical-align: top;
  }

  .fail {
    font-weight: bold;
    text-align: right;
    vertical-align: top;
    background-color: red;
    color: white;
  }

  .gradeButton {
    background-color: #121391;
    border: none;
    color: white;
    padding: 15px 25px;
    text-align: center;
    font-size: 16px;
    cursor: pointer;
    margin: 0 auto;
    display: block;
  }

  .gradeButton:hover {
    background: #1C4C76;
  }

  .unSubmit {
    background-color: #121391;
    border: none;
    color: white;
    padding: 15px 25px;
    text-align: center;
    font-size: 16px;
    margin: 0 auto;
    display: block;
  }

  .null {
    background-color: #fcf958;
    color: black;
    text-align: right;
    vertical-align: top;
  }
</style>
